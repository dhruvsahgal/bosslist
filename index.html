<!doctype html>
<html>
 <head>
 <title>Bosslist</title>

	 <meta charset="utf-8" />
	 <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	 <meta name="viewport" content="width=device-width, initial-scale=1" />
	 <link rel="stylesheet" href="css/foundation.css" />
	 <link rel="stylesheet" href="css/app.css">
	 <link rel="stylesheet" href="css/font-awesome.min.css">
	 <script src="js/vendor/modernizr.js"></script>
	 <script src="js/vendor/jquery.js"></script>
	 <script src="js/vendor/fastclick.js"></script>
	 <script src="js/foundation.min.js"></script>


 </head>

	<body>
		<!-- Nav bar -->
		<div class="contain-to-grid ">
		<nav class="top-bar" data-topbar role="navigation">
    		<ul class="title-area">
    			<li class="name">
     				<h1><a href="#">Bosslist</a></h1>
    			</li>
       				 
 			 </ul>

			<!-- Right Nav Section -->
			<section class="top-bar-section">
			    <ul class="right">
			    	<li class="has-dropdown">
			        	<a href="#"><img src="img/settings_small2.png"></a>
			        	<ul class="dropdown">
			          		<li><a href="#">Change Settings</a></li>
			        	</ul>
			      	</li>
			    </ul> 
			
			    <ul class="right">
			    	
					
			    	<li>
			    		<a id="timeRemaining" >Remaining Time: 00:00 </a>
			    	</li>
			    	
			    </ul>
			    <ul class="right">
			    	<li>
			    		<a id="totalTask" class="hello" >Total Tasks: 0 </a>
			    	</li>
			    </ul>
			    <ul class="right">
			    	<li>
			    		<a id="taskTimeTotal">Total Task Time (mins): 00:00</a>
					</li>
			    </ul>
		    </section>
		</nav>
		</div>
		<br>
		<!-- Timer Setup -->
		<div class ="row small-16">
			<!-- <strong>Pomodori Value</Strong>
			<br>
			<br>
			<select id="pomodori" name="Pomodori Value">
				<option value="1">1</option>
			    <option value="2">2</option>
			    <option value="3">3</option>
			    <option value="4">4</option>
			</select>
			<br>
			<br> -->
			<strong>Timer:</strong>
			<button onclick = "myTimer()">Start Timer</button> 
			<button onclick = "stopTimer()" >Stop Timer</button>

			<Strong>Focused Time: <span id= "time"> 25:00</span></strong>
			<br>
			<button onclick="reset()">Reset Button</button>
		<!-- 	<div> Pomodori value: 
				<span id="pomodoriValue"></span> 
			</div>
			<div>Break Time: 
				<span id = "breakValue"></span> 
			</div>
				<br> -->
		</div>
		<div class = "row small-16">
			<strong>Time Increment (mins)</Strong>
			<input type="text" id="incrementVal"  placeholder="How long per task?"/>
				<!-- <option value="10">10</option>
			    <option value="20">20</option>
			    <option value="30">30</option>
			</select> -->
		</div>
		<br>
		<br>
				<!--Column setup -->
		<div class="row" >
 			<div class="medium-4 columns lines"><strong>MIT</strong></div>
		  	<div class="medium-4 columns lines"><strong>High Priority</strong></div>
		 	<div class="medium-4 columns lines"><strong>Low Priority</strong></div>
		  	
		  	
		<!--Times -->	  		
		<div class="row">
 			<div class="medium-4 columns ">
 				<p>Total time: (mins)</p>
 				<div id="taskMostTime" >0:00</div>
 			</div>
		  	<div class="medium-4 columns ">
		  		<p>Total time: (mins)</p>
		  		<p id="taskHighTime">0:00</p>
		  	</div>
		 	<div class="medium-4 columns ">
		 		<p>Total time: (mins)</p>
		 		<p id="taskLowTime">0:00</p>
		 	</div>
		  	<div class="medium-4 columns ">
		  		
	  		</div>

	  	<!--Task Lists -->
		<div class="row">
			<div class="medium-4 columns ">
			  	<ul> 
			  		<button class = "small-12 columns" id="submitMostTask" onclick ="addTaskFunction('taskMost')" >+</button>	  		
			  		<input  type = "text" id="taskMostName" value="" placeholder = "Write your task here" /> 
				</ul>
				<ul>
					<p id="taskMost" value="" > </p>
				</ul>
			</div>
			<div class="medium-4 columns ">
			  	<ul> 
			  		<button class = "small-12 columns" id="submitHighTask" onclick ="addTaskFunction('taskHigh')">+</button>	  		
			  		<input  type = "text" id="taskHighName" value=""  placeholder = "Write your task here" /> 
				</ul>
				<ul>
					<p id="taskHigh" value=""> </p>
				</ul>
			</div>
			<div class="medium-4 columns " >
			  	<ul> 
			  		<button class = "small-12 columns" id="submitLowTask" onclick ="addTaskFunction('taskLow')" >+</button>	  		
			  		<input  type = "text" id="taskLowName" value=""  placeholder = "Write your task here" /> 
				</ul>
				<ul>
					<p id="taskLow" value=""> </p>
				</ul>
			</div>
			
		</div>
		</div>
		
		<!-- Adding Tasks -->
 	 	<script type="text/javascript">
  		$(document).foundation();
		
		var count = 0;
		var total = 0;
		var seconds = 1500; // For Pomodoro timer. 1500 seconds = 25 mins.
		var countdown;
		var timerCheck = 0;
		var pomodoriMax = 4;
		var breakTime = 5;
		var breakTimeMax = 30;
			
		//Adding tasks and counting up the total time
	 	function addTaskFunction(taskId){
 	 		var nameAdder = "Name";
 	 		var timeAdder = "Time";
 	 		//var dropdown = document.getElementById("incrementVal");
			var text = document.getElementById("incrementVal").value;
 	 		var newTask= document.getElementById(taskId + nameAdder).value;
				
 	 		newTask=document.getElementById(taskId + nameAdder).value;
			if (newTask.length==0){
				newTask="Blank Task";
				}	 			
			document.getElementById(taskId).innerHTML+= '<br/>' +  newTask;
			document.getElementById(taskId+nameAdder).value="";
			count = count +1;
			total = text*1 + total;  //this converts the variable in to a number so the proper addtion can happen
			document.getElementById(taskId+timeAdder).innerHTML=total;
			document.getElementById("totalTask").innerHTML = 'Total Tasks: ' + count;
			document.getElementById("taskTimeTotal").innerHTML = 'Total Task Time (mins): ' + total;
			
 	 	}

 	 	//Pomodoro timer function to start updating and checking for which Pomodori it is. 
		function myTimer(){	

			if (timerCheck === 0) {
				timerCheck = 1;

				countdown = setInterval(counter, 1000);
				console.log(pomodori.value);

				if (pomodori.value<pomodoriMax) {

					document.getElementById('pomodoriValue').innerHTML = pomodori.value;
					document.getElementById('breakValue').innerHTML = breakTime;

				}
				else{

					document.getElementById('pomodoriValue').innerHTML = 'Maxed out';
					document.getElementById('breakValue').innerHTML = breakTimeMax;
					
				}
			}
			else{

				console.log("timer already running!");
			}

		}
		//Pomodoro timer to stop
		function stopTimer() {

            clearInterval(countdown);
            timerCheck = 0;
           
       }

       // Acutal timer
       function counter() {
			var minutes = Math.round((seconds - 30)/60);
			var remainingSeconds = seconds % 60;
			if (remainingSeconds < 10) {
    			remainingSeconds = "0" + remainingSeconds;  
			}
			document.getElementById('time').innerHTML = minutes + ":" + remainingSeconds;
			document.getElementById('timeRemaining').innerHTML = "Remaining Time: " +minutes + ":" + remainingSeconds;
			if (seconds === 0) {
   			clearInterval(countdown);
   			} else {
   				seconds--;
				}
		}

		function reset(){
			location.reload();
		}
		</script>

	
		

	</body>

</html>